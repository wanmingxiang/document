# MMU
## Hardware device map virtual to physical address
## The value in the relocation register is added 
## Do translation
Logic address -- generated by CPU
Physical address -- memory module

User deals with Logic address, never sees the real physical address

#kDynamic Loading
## A routine is loaded 2 memory when it is called; ( a routine is function call)
## unused routine nenven loaded;
## large amounts of code are infrequently used;

## example
```
    dlopen();
    desysm();
    dlclose();
```

#Swapping


#Fragmentation
## External Fragmentation
## Internal Fragmentation
## Sulution : compaction

Shuffle the memory contents 2 a place all free memory 

Non-Contiguous Memory Allocation -- Paging

Method:
物理页面切成固定块大小 ： frames
逻辑空间切成              pages
frames size ==  pagesize 
page table  : do translation

Benefit:
 noncontiguous 
 avoid External Fragmentation
 limited Internal Fragmentation
 share memory/pages

Page Number (p)
page number (2 ^ N) N bit
Page Offset (d)
page Size   (2 ^ N) N bit

physical addr = page base addr + page offset


#Memory Protection
##Protection bit 
### a bit define read/write/exec permission
### Valid && Invalid
### Unused page entry cause memory waste -->  use page table **length register** (PTLR)
### Page Table 动态分配

#Shared pages
## Reentrant code
## only one copy
## two virtual address are mapped to one physical address

#Page Table Memory Structure

##level page Table

##Hashed page Table Address Translation
##Improved Hashed Page Implemetaion

##Inverted Page Table
NO page table
frame table
    each entry in frame table  has (PID page Num)

*search the whole frame table
*hard 2 support shared page


Process Include :
code Segment
Data   --- global var
Stack  -- local var
Heap   -- Dynamic allocated var
counter: programe counter| register counter
resources: file 


Max    Stack 
          
    
    
       Heap
    
       data
    
Min    text










